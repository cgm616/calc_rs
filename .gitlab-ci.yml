image: rustdocker/rust:nightly

cache:
  paths:
    - target/

pages:
  stage: deploy
  script:
    - rustup add target wasm32-unknown-unknown
    - cargo install cargo-web
    - cargo build
    - cargo web deploy --target=wasm32-unknown-unknown
  artifacts:
    paths:
      - public
  only:
    - master
